!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var a in n)("object"==typeof exports?exports:t)[a]=n[a]}}(window,function(){return function(t){var e={};function n(a){if(e[a])return e[a].exports;var r=e[a]={i:a,l:!1,exports:{}};return t[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(a,r,function(e){return t[e]}.bind(null,r));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e){e.getCmdName=function(t){return/(.*\/)(.*)(\.cmd)/.exec(t)[2]},e.getMethodName=function(t){return/(method=)(.*)(\&?)/.exec(t)[2]},e.transferFirstLetterUpper=function(t){return t.slice(0,1).toLocaleUpperCase()+t.slice(1)}},function(t,e,n){var a=n(2),r=Vue.extend({template:'\n\t\t<div id="app">\n\t\t\t<div class="input">\n\t\t\t\t<textarea rows="20" cols="150" v-model="inputJson"></textarea>\n\t\t\t</div>\n\t\t\t<div id="trans" @click="trans">生产代码</div>\n\t\t\t<div class="output">\n\t\t\t\t<div class="navbar">\n\t\t\t\t\t<div class="navitem" @click="nav( \'1\' )" :class="[tabSel==\'1\' ? \'seled\' : \'\']">CMD</div>\n\t\t\t\t\t<div class="navitem" @click="nav( \'2\' )" :class="[tabSel==\'2\' ? \'seled\' : \'\']">IService</div>\n\t\t\t\t\t<div class="navitem" @click="nav( \'3\' )" :class="[tabSel==\'3\' ? \'seled\' : \'\']">Service</div>\n\t\t\t\t\t<div class="navitem" @click="nav( \'4\' )" :class="[tabSel==\'4\' ? \'seled\' : \'\']">IDomain</div>\n\t\t\t\t\t<div class="navitem" @click="nav( \'5\' )" :class="[tabSel==\'5\' ? \'seled\' : \'\']">Domain</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="content">\n\t\t\t\t\t<textarea v-show="tabSel==\'1\'" rows="20" cols="150">{{cmdRlt}}</textarea>\n\t\t\t\t\t<textarea v-show="tabSel==\'2\'" rows="20" cols="150">{{iServiceRlt}}</textarea>\n\t\t\t\t\t<textarea v-show="tabSel==\'3\'" rows="20" cols="150">{{serviceRlt}}</textarea>\n\t\t\t\t\t<textarea v-show="tabSel==\'4\'" rows="20" cols="150">{{idomainRlt}}</textarea>\n\t\t\t\t\t<textarea v-show="tabSel==\'5\'" rows="20" cols="150">{{domainRlt}}</textarea>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t',data:()=>({inputJson:"",tabSel:"",cmdRlt:"",iServiceRlt:"",serviceRlt:"",idomainRlt:"",domainRlt:""}),methods:{reduceOutPut(){let t=this,e=JSON.parse(inputJson);/(.*\/)(.*)(\.cmd)/.exec(e.interfaceUrl)[2];[{name:"cmdRlt",template:"renderMethod"},{name:"iServiceRlt",template:"renderIDomain"},{name:"serviceRlt",template:"renderIService"},{name:"idomainRlt",template:"renderDomain"},{name:"domainRlt",template:"renderService"}].map(n=>{t[name]=a[writeConf.template](e)}),this.$forceUpdate()},nav(t){this.tabSel=t},trans(){try{console.log(this.inputJson),JSON.parse(this.inputJson),this.reduceOutPut()}catch(t){console.log(t)}}},watch:{inputJson(t,e){try{JSON.parse(t),this.reduceOutPut()}catch(t){console.log(t)}}}});$(function(){(new r).$mount("#app")})},function(t,e,n){e.renderMethod=n(3),e.renderIService=n(4),e.renderIDomain=n(5),e.renderService=n(6),e.renderDomain=n(7)},function(t,e,n){var a;a=n(0),t.exports=function(t){var e,n,r,o,i,c,l;if(e=a.getCmdName(t.interfaceUrl),i="","POST"===t.method||"post"===t.method)i='String dataInfo = XsmTool.getBodyString( req );\n\t\tMap paraMap = JsonUtils.readToObject( dataInfo, Map.class );\n\t\tif ( paraMap == null ) {\n\t\t\tthrow new RuntimeException( "参数为空！" );\n\t\t}';else{if(n="",t.params instanceof Array)for(r=0,o=(l=t.params).length;r<o;r++)n+=`\t\tparaMap.put( "${(c=l[r]).name}", req.getParameter( "${c.name}" ) );\n`;else for(c in t.params)n+=`\t\tparaMap.put( "${c}", req.getParameter( "${c}" ) );\n`;i=`Map paraMap = new HashMap();\n${n}`}return`\n\n@MethodDesc(\n\tname = "${t.interfaceName}",\n\tauthor = "${t.author}", \n\tcreateDate = "${t.date}", \n\tinputJson = "${JSON.stringify(t.params).replace(/\"/g,"'")}", \n\tmethod = "${t.method}", \n\toutputJson = "${JSON.stringify(t.result).replace(/\"/g,"'")}", \n\tpath = "${t.interfaceUrl}",\n\tdesc="${t.desc}",\n\tversion="1.0"\n)\npublic void ${a.getMethodName(t.interfaceUrl)}(HttpServletRequest req, HttpServletResponse rep,\n\t\tIErrorHandler errorHandler, IMessageHandler messageHandler,\tViewHelper viewHelper) {\n\n\tif (log.isInfoEnabled()) {\n\t\tlog.info("[${t.author}] ${a.transferFirstLetterUpper(e)}Cmd.${a.getMethodName(t.interfaceUrl)}--begin");\n\t}\n\n\tMap rltMap = new HashMap();\n\ttry{\n\t\t${i}\n\t\tMap data = get${a.transferFirstLetterUpper(e)}Service().${a.getMethodName(t.interfaceUrl)}( paraMap );\n\t\trltMap.put( "data", data );\n\t\trltMap.put( "ok", "true" );\n\t}catch( Exception e ){\n\t\tif( log.isErrorEnabled() ){\n\t\t\tlog.error( "${a.getMethodName(t.interfaceUrl)} Exception = ", e );\n\t\t}\n\t\trltMap.put( "ok", false );\n\t\trltMap.put( "msg", e.toString() );\n\t}finally{\n\t\tRepSendJson.sendJson(rltMap, rep);\n\t}\n\n\tif (log.isInfoEnabled()) {\n\t\tlog.info("[${t.author}] ${a.transferFirstLetterUpper(e)}Cmd.${a.getMethodName(t.interfaceUrl)}--end");\n\t}\n\n}\n`}},function(t,e,n){var a;a=n(0),t.exports=function(t){return`\n\n/**\n * ${t.interfaceName}\n * @autor ${t.author}\n * @desc ${t.desc}\n */\npublic Map ${a.getMethodName(t.interfaceUrl)}( Map beanMap );\n\n`}},function(t,e,n){var a;a=n(0),t.exports=function(t){return`\n\n/**\n * ${t.interfaceName}\n * @autor ${t.author}\n * @desc ${t.desc}\n */\npublic Map ${a.getMethodName(t.interfaceUrl)}( Map beanMap );\n\n`}},function(t,e,n){var a;a=n(0),t.exports=function(t){var e;return e=a.getCmdName(t.interfaceUrl),"POST"===t.method||"post"===t.method?`\n\n/**\n* ${t.interfaceName}\n* @autor ${t.author}\n* @desc ${t.desc}\n*/\npublic Map ${a.getMethodName(t.interfaceUrl)}( Map beanMap ){\n\tObject rlt = getTransactionTemplate().execute( new TransactionCallback() {\n\t\tprotected Object doInTransaction( TransactionStatus arg0 ) {\n\t\t\treturn get${a.transferFirstLetterUpper(e)}Domain().${a.getMethodName(t.interfaceUrl)}( beanMap );\n\t\t}\n\t});\n\treturn ( Map )rlt;\n}\n\n`:`\n\n/**\n* ${t.interfaceName}\n* @autor ${t.author}\n* @desc ${t.desc}\n*/\npublic Map ${a.getMethodName(t.interfaceUrl)}( Map beanMap ){\n\treturn get${a.transferFirstLetterUpper(e)}Domain().${a.getMethodName(t.interfaceUrl)}( beanMap );\n}\n\n`}},function(t,e,n){var a;a=n(0),t.exports=function(t){return`\n\n/**\n * ${t.interfaceName}\n * @autor ${t.author}\n * @desc ${t.desc}\n */\npublic Map ${a.getMethodName(t.interfaceUrl)}( Map beanMap ){\n\treturn V6SqlSessionUtil.getSqlSession().selectOne( "${a.getCmdName(t.interfaceUrl)}Domain.${a.getMethodName(t.interfaceUrl)}", beanMap );\n}\n\n`}}])});